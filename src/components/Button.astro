---
import { Image } from "astro:assets";
const { id, emphasis, icon, onClick, to } = Astro.props;

let emphasisClassName = "";
switch (emphasis) {
  case "low":
    emphasisClassName = "lowEmphasis";
    break;
  case "medium":
    emphasisClassName = "mediumEmphasis";
    break;
  case "high":
    emphasisClassName = "highEmphasis";
    break;
  default:
    emphasisClassName = "lowEmphasis";
}
---

<button id={id} class={emphasisClassName}>
  {icon && <Image src={icon} alt="" aria-hidden />}
  <slot />
</button>

<script is:inline define:vars={{ id, onClick, to }}>
  document.getElementById(id).addEventListener("click", () => {
    console.log("hi");
  });
</script>

<style lang="scss">
  .button {
    padding: 10px 12px;
    font-size: 16px;
    border: none;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 8px;
    transition: 150ms ease;

    &:hover {
      cursor: pointer;
    }
  }

  .lowEmphasis {
    @extend .button;
    background: none;
    color: var(--text-primary);

    &:hover {
      background: var(--foreground);
    }
  }

  .mediumEmphasis {
    @extend .button;
    @extend .lowEmphasis;
    background: var(--foreground);

    &:hover {
      background: var(--foreground-hover);
      scale: 1.03;
    }
  }

  .highEmphasis {
    @extend .button;
    background: var(--accent);
    color: var(--text-primary);

    &:hover {
      scale: 1.03;
      background: var(--accent-hover);
    }
  }
</style>
